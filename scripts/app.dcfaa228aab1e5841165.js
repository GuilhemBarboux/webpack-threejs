(self.webpackChunkwebpack_threejs=self.webpackChunkwebpack_threejs||[]).push([[143],{723:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var n=i(8852),a=i(5647),s=i.n(a),r=i(456),o=i.n(r),h=i(6119),l=i(990);function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.initThree(),this.initObject(),this.initControls(),this.initPostProcessing()}var t,a;return t=e,(a=[{key:"initThree",value:function(){this.scene=new n.xsS,this.camera=new n.cPb(50,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=300,this.renderer=new n.CP7({antialias:!0,alpha:!0}),this.clock=new n.SUY}},{key:"initControls",value:function(){this.trackball=new l.$(this.camera,this.renderer.domElement),this.trackball.rotateSpeed=2,this.trackball.enabled=!0}},{key:"initObject",value:function(){var e=new n.Wjw(50,1),t=new n.jyz({uniforms:{uColor:{value:new n.Ilk(.2,.2,1)}},vertexShader:s()(i(4222)),fragmentShader:s()(i(111)),wireframe:!0});this.object3D=new n.Kj0(e,t),this.scene.add(this.object3D)}},{key:"initPostProcessing",value:function(){this.composer=new h.xC(this.renderer,{frameBufferType:n.cLu}),this.composer.enabled=!1;var e=o().items.get("smaa-search"),t=o().items.get("smaa-area"),i=new h.fY(e,t);i.edgeDetectionMaterial.setEdgeDetectionThreshold(.05);var a=new h.xV({premultiply:!0}),s=new h.Dd,r=new h.CD(this.scene,this.camera),l=new h.H5(this.camera,a,s,i);a.blendMode.opacity.value=.75,this.composer.addPass(r),this.composer.addPass(l)}},{key:"update",value:function(){this.trackball&&this.trackball.update()}},{key:"draw",value:function(){var e=this.clock.getDelta();this.composer&&this.composer.enabled?this.composer.render(e):this.renderer.render(this.scene,this.camera)}},{key:"resize",value:function(e,t){this.renderer&&(this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.fovHeight=2*Math.tan(this.camera.fov*Math.PI/180/2)*this.camera.position.z,this.fovWidth=this.fovHeight*this.camera.aspect,this.renderer.setSize(e,t),this.composer&&this.composer.setSize(e,t),this.trackball&&this.trackball.handleResize())}}])&&c(t.prototype,a),e}(),d=i(133),p=i.n(d),f=i(1622),v=i.n(f);function b(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.postProcessing=!1,this.density=1,this.renderOptions={native:0,"post processing":1},this.renderSelected=0,this.color="#0000FF",this.wireframe=!0,this.initPane(),this.initStats(),this.enable()}var t,i;return t=e,(i=[{key:"initPane",value:function(){var e;this.pane=new(p()),(e=this.pane.addFolder({title:"Parameters"})).addInput(this,"renderSelected",{label:"render",options:this.renderOptions}).on("change",this.onRenderChange.bind(this)),e.addInput(this,"wireframe").on("change",this.onWireframeChange.bind(this)),e.addInput(this,"density",{label:"density",min:0,max:4,step:1}).on("change",this.onDensityChange.bind(this)),e.addInput(this,"color").on("change",this.onColorChange.bind(this))}},{key:"initStats",value:function(){this.stats=new(v()),document.body.appendChild(this.stats.dom)}},{key:"enable",value:function(){this.pane.hidden=!1,this.stats&&(this.stats.dom.style.display=""),this.pane.containerElem_.classList.contains("full")&&(this.app.el.style.width="calc(100vw - ".concat(this.pane.containerElem_.offsetWidth,"px)"),this.app.resize())}},{key:"disable",value:function(){this.pane.hidden=!0,this.stats&&(this.stats.dom.style.display="none"),this.pane.containerElem_.classList.contains("full")&&(this.app.el.style.width="",this.app.resize())}},{key:"toggle",value:function(){this.pane.hidden?this.enable():this.disable()}},{key:"onRenderChange",value:function(e){this.app.webgl.composer&&(this.app.webgl.composer.enabled=e)}},{key:"onDensityChange",value:function(e){var t=this.app.webgl.object3D,i=new n.Wjw(50,e),a=t.material;t.geometry.dispose(),t.parent.remove(t),this.app.webgl.object3D=new n.Kj0(i,a),this.app.webgl.scene.add(this.app.webgl.object3D)}},{key:"onColorChange",value:function(e){this.app.webgl.object3D.material.uniforms.uColor.value.set(e)}},{key:"onWireframeChange",value:function(e){this.app.webgl.object3D.material.wireframe=e}},{key:"onPostProcessingChange",value:function(e){this.app.webgl.composer&&(this.app.webgl.composer.enabled=e)}}])&&b(t.prototype,i),e}();function w(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=document.querySelector(".container")}var t,i;return t=e,(i=[{key:"init",value:function(){this.initWebGL(),this.initGUI(),this.addListeners(),this.animate(),this.resize()}},{key:"initWebGL",value:function(){this.webgl=new u(this),this.el.appendChild(this.webgl.renderer.domElement)}},{key:"initGUI",value:function(){this.gui=new m(this)}},{key:"addListeners",value:function(){this.handlerAnimate=this.animate.bind(this),window.addEventListener("resize",this.resize.bind(this)),window.addEventListener("keyup",this.keyup.bind(this))}},{key:"animate",value:function(){this.update(),this.draw(),this.raf=requestAnimationFrame(this.handlerAnimate)}},{key:"update",value:function(){this.gui.stats&&this.gui.stats.begin(),this.webgl&&this.webgl.update()}},{key:"draw",value:function(){this.webgl&&this.webgl.draw(),this.gui.stats&&this.gui.stats.end()}},{key:"resize",value:function(){var e=document.querySelector(".container").offsetWidth||window.innerWidth,t=document.querySelector(".container").offsetHeight||window.innerHeight;this.webgl&&this.webgl.resize(e,t)}},{key:"keyup",value:function(e){71!=e.keyCode&&80!=e.keyCode||this.gui&&this.gui.toggle(),72==e.keyCode&&this.webgl.trackball&&this.webgl.trackball.reset()}}])&&w(t.prototype,i),e}()},111:e=>{e.exports="#define GLSLIFY 1\n// uniform sampler2D uTexture;\nuniform vec3 uColor;\n\nvarying vec2 vUv;\n\nvoid main() {\n\tvec2 uv = vUv;\n\tvec4 color = vec4(uColor, 1.0);\n\t// vec4 color = texture2D(uTexture, uv);\n\n\tgl_FragColor = color;\n}"},4222:e=>{e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"}}]);